(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db62106e"],{"039c":function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("div",[t("el-table",{attrs:{data:e.data.list}},e._l(e.columns,(function(a,l){return t("el-table-column",{key:l,attrs:{prop:a.key,label:a.title,formatter:a.formatter},scopedSlots:e._u([{key:"default",fn:function(r){return[a.operator?t("div",[e._l(a.operator,(function(a,l){return[a.hidden&&a.hidden(r.row)?e._e():t("el-button",{key:l,attrs:{type:a.type,size:"small"},on:{click:function(e){return a.click(r.row)}}},[e._v(e._s(a.name)+" ")])]}))],2):t("div",[a.formatter?t("span",{domProps:{innerHTML:e._s(a.formatter(r.row,a.key,r.row[a.key],l))}}):t("span",[a.type?[e._v(" "+e._s("date"==a.type?e.dateFormat(r.row[a.key],"YYYY-MM-DD"):e.dateFormat(r.row[a.key]))+" ")]:[e._v(" "+e._s(r.row[a.key])+" ")]],2)])]}}],null,!0)})})),1),t("div",{staticStyle:{"background-color":"#ffffff","text-align":"right",padding:"8px 0"}},[t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.data.total,"page-size":e.pageSize,"current-page":e.page},on:{"prev-click":e.reload,"next-click":e.reload,"current-change":e.reload}})],1)],1)},r=[],i={name:"ElementTable",data(){return{data:{total:0},page:1}},props:{url:String,pageSize:Number,columns:Array},created(){this.reload(this.page)},methods:{reload(e){if(!this.url)return;let t=this;this.page=e,this.get(this.url,{page:this.page,pageSize:this.pageSize},e=>{t.data=e.data})},deploy(e){console.log(e)},open(){console.log("d")}}},o=i,s=a("2877"),n=Object(s["a"])(o,l,r,!1,null,"f2a997c6",null);t["a"]=n.exports},"34e1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"toolbar"},[t("el-button",{attrs:{type:"primary"},on:{click:e.openNewDialog}},[e._v("请假申请")])],1),t("element-table",{ref:"elementTable",attrs:{url:e.url,columns:e.columns,"page-size":10}}),t("el-dialog",{staticStyle:{"padding-top":"10px"},attrs:{title:"请假申请",visible:e.dialogVisible,width:"600px",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticStyle:{padding:"30px 110px 0px 20px"}},[t("el-form",{attrs:{model:e.form,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{staticStyle:{width:"350px"},attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"请假时间"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.change},model:{value:e.form.daterange,callback:function(t){e.$set(e.form,"daterange",t)},expression:"form.daterange"}})],1),t("el-form-item",{attrs:{label:"请假天数"}},[t("span",[e._v(e._s(e.day?e.day+"天":""))])]),t("el-form-item",{attrs:{label:"请假类别"}},[t("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.getLeaveCategoryList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"请假原因"}},[t("el-input",{staticStyle:{width:"350px"},attrs:{type:"textarea",rows:"3"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")]),t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)]),t("el-dialog",{attrs:{title:"查看流程图",visible:e.dialogImgVisible},on:{"update:visible":function(t){e.dialogImgVisible=t}}},[t("div",{staticStyle:{background:"#ffffff",padding:"50px 100px"}},[t("img",{attrs:{src:e.imgUrl,alt:""}})])])],1)},r=[],i=a("039c"),o=a("2f62"),s={name:"inst",data(){return{dialogVisible:!1,dialogImgVisible:!1,imgUrl:"",dataImg:{x:550,y:190,height:80,width:100,element:null,expanded:null,xmlRowNumber:2,xmlColumnNumber:2890},url:this.Apis.leavePageQuery.replace("${userId}",JSON.parse(localStorage.getItem("loginUser")).userId),columns:[{key:"id",title:"ID"},{key:"type",title:"请假类别",formatter:(e,t)=>{let a=this.getLeaveCategoryList;for(let l=0;l<a.length;l++)if(a[l].value==e[t])return a[l].label;return""}},{key:"status",title:"状态",formatter:(e,t)=>{switch(e[t]){case 0:return"未提交";case 1:return"审核中";case 2:return"审核通过";case 3:return"审核不通过";default:return""}}},{key:"startTime",title:"开始时间",type:"date"},{key:"endTime",title:"结束时间",type:"datetime"},{key:"day",title:"请假天数"},{key:"ora",title:"操作",operator:[{name:"查看",type:"text",click:()=>{this.imgUrl=this.getCallUrl(this.Apis.leaveImage),this.dialogImgVisible=!0}}]}],name:"",form:{},day:0}},components:{ElementTable:i["a"]},computed:{...Object(o["b"])(["getLeaveCategoryList"])},created(){let e=localStorage.getItem("loginUser");e=JSON.parse(e),this.form.name=e.nickName},methods:{openNewDialog(){this.dialogVisible=!0},change(e){this.form.startTime=e[0].getTime(),this.form.endTime=e[1].getTime(),this.day=Number.parseInt((e[1].getTime()-e[0].getTime())/1e3/60/60/24)+1,this.form.day=this.day},save(){let e=this,t=this.form,a=JSON.parse(localStorage.getItem("loginUser"));t.userId=a.userId,t.userName=a.nickName,e.post(this.Apis.leaveApply,t,t=>{200==t.code&&(e.dialogVisible=!1)})}}},n=s,d=a("2877"),p=Object(d["a"])(n,l,r,!1,null,"211b8b76",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-db62106e.a9bc97d3.js.map